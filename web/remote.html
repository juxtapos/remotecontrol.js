<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>remotecontrol.js</title>
    <link href='http://fonts.googleapis.com/css?family=Syncopate:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/index.css" type="text/css">
    <link rel="stylesheet" href="css/remote.css" type="text/css">
    <script src="js/socket.io.min.js"></script>
    <script src="js/events.js"></script>
    <script src="js/remotecontrol.js.remote.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
    $(document).ready(init);

    function init (options) {
        var remotecontrol = new RemoteControl( { host: location.host, port: 1337 } );
        document.getElementById('tokenSend').addEventListener('click', function () {
            remotecontrol.supplyToken(document.getElementById('tokenField').value);
        });

        remotecontrol.addEventListener('rcjs:error', function (event) {
            $('#remotecontrol .msg').empty().append(event.msg);
        });
        remotecontrol.addEventListener('rcjs:connected', function (event) {
            $('#remotecontrol .msg').empty().append('Connected');
        });
        remotecontrol.addEventListener('rcjs:startCapture', function (event) {
            $('#remotecontrol .msg').empty().append('Capturing');
        });
        remotecontrol.addEventListener('rcjs:receiverDisconnect', function (event) {
            $('#remotecontrol .msg').empty().append('Disconnected');
        });
        remotecontrol.addEventListener('rcjs:serverDisconnect', function (event) {
            $('#remotecontrol .msg').empty().append('Server disconnected');
        });
    }

    function log(msg) {
        var l = $('#logger');
        l.append('<div>' + msg + '</div>');
        l.get()[0].scrollTop = l.get()[0].scrollHeight;
    }
    
    </script>
</head>
<body>
	<div class="remotecontrol" id="remotecontrol">
        <label>remotecontrol.js</label>
        <input type="text" id="tokenField" value="1">
        <button id="tokenSend"><span>Register</span></button>
        <div class="msg"></div>
	</div>
    <div id="logger" style="position:absolute;width:400px;background-color:rgba(100,100,100,1);height:580px;right:10px;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling: touch;">
    </div>
</body>
</html>